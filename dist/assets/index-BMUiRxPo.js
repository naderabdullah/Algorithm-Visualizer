(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function e(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=e(o);fetch(o.href,s)}})();class G{constructor(t){this.canvas=t;const e=t.getContext("2d");if(!e)throw new Error("Canvas not supported");this.ctx=e}drawArray(t,e=[],i=null){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);const o=this.canvas.width/t.length,s=Math.max(...t);t.forEach((a,n)=>{const r=a/s*(this.canvas.height-40),h=n*o,l=this.canvas.height-r;let c,u=null;i===n?(c=this.ctx.createLinearGradient(h,l,h,this.canvas.height),c.addColorStop(0,"#48bb78"),c.addColorStop(1,"#38a169"),u="rgba(72, 187, 120, 0.5)"):e.includes(n)?(c=this.ctx.createLinearGradient(h,l,h,this.canvas.height),c.addColorStop(0,"#f6ad55"),c.addColorStop(1,"#ed8936"),u="rgba(246, 173, 85, 0.4)"):(c=this.ctx.createLinearGradient(h,l,h,this.canvas.height),c.addColorStop(0,"#667eea"),c.addColorStop(1,"#764ba2")),u?(this.ctx.shadowColor=u,this.ctx.shadowBlur=20,this.ctx.shadowOffsetX=0,this.ctx.shadowOffsetY=0):(this.ctx.shadowColor="rgba(0, 0, 0, 0.2)",this.ctx.shadowBlur=8,this.ctx.shadowOffsetY=4),this.ctx.fillStyle=c,this.roundRect(h+2,l,o-4,r,6),i===n&&(this.ctx.strokeStyle="white",this.ctx.lineWidth=3,this.roundRectStroke(h+2,l,o-4,r,6)),this.ctx.shadowColor="transparent",this.ctx.shadowBlur=0,this.ctx.shadowOffsetY=0,this.ctx.fillStyle=i===n?"#22543d":"#2d3748",this.ctx.font=i===n?"bold 14px Inter, sans-serif":"bold 12px Inter, sans-serif",this.ctx.textAlign="center",this.ctx.fillText(a,h+o/2,this.canvas.height-r-8)})}roundRect(t,e,i,o,s){this.ctx.beginPath(),this.ctx.moveTo(t+s,e),this.ctx.lineTo(t+i-s,e),this.ctx.quadraticCurveTo(t+i,e,t+i,e+s),this.ctx.lineTo(t+i,e+o),this.ctx.lineTo(t,e+o),this.ctx.lineTo(t,e+s),this.ctx.quadraticCurveTo(t,e,t+s,e),this.ctx.closePath(),this.ctx.fill()}roundRectStroke(t,e,i,o,s){this.ctx.beginPath(),this.ctx.moveTo(t+s,e),this.ctx.lineTo(t+i-s,e),this.ctx.quadraticCurveTo(t+i,e,t+i,e+s),this.ctx.lineTo(t+i,e+o),this.ctx.lineTo(t,e+o),this.ctx.lineTo(t,e+s),this.ctx.quadraticCurveTo(t,e,t+s,e),this.ctx.closePath(),this.ctx.stroke()}}class H{constructor(t){this.canvas=t;const e=t.getContext("2d");if(!e)throw new Error("Canvas not supported");this.ctx=e}drawRadixSort(t,e=null,i=0,o=null,s=[]){if(this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),!e||e.length===0){this.drawArray(t,s,o);return}const a=this.canvas.height*.35,n=this.canvas.height*.65,r=a;this.drawArraySection(t,0,a,s,o),this.drawDigitIndicator(i,a-5),this.drawBuckets(e,r,n,i)}drawArraySection(t,e,i,o=[],s=null){if(!t||t.length===0)return;const a=this.canvas.width/t.length,n=Math.max(...t);t.forEach((r,h)=>{const l=r/n*(i-50),c=h*a,u=e+(i-l-30);let p,f=null;s===h?(p=this.ctx.createLinearGradient(c,u,c,u+l),p.addColorStop(0,"#48bb78"),p.addColorStop(1,"#38a169"),f="rgba(72, 187, 120, 0.5)"):o.includes(h)?(p=this.ctx.createLinearGradient(c,u,c,u+l),p.addColorStop(0,"#f6ad55"),p.addColorStop(1,"#ed8936"),f="rgba(246, 173, 85, 0.4)"):(p=this.ctx.createLinearGradient(c,u,c,u+l),p.addColorStop(0,"#667eea"),p.addColorStop(1,"#764ba2")),f?(this.ctx.shadowColor=f,this.ctx.shadowBlur=15,this.ctx.shadowOffsetX=0,this.ctx.shadowOffsetY=0):(this.ctx.shadowColor="rgba(0, 0, 0, 0.2)",this.ctx.shadowBlur=6,this.ctx.shadowOffsetY=4),this.ctx.fillStyle=p,this.roundRect(c+2,u,a-4,l,4),this.ctx.shadowColor="transparent",this.ctx.shadowBlur=0,this.ctx.shadowOffsetY=0,this.ctx.fillStyle=s===h?"#22543d":"#2d3748",this.ctx.font=s===h?"bold 12px Inter, sans-serif":"bold 10px Inter, sans-serif",this.ctx.textAlign="center",this.ctx.fillText(r,c+a/2,u-6)})}drawBuckets(t,e,i,o){const s=this.canvas.width/10,a=i-40;for(let n=0;n<10;n++){const r=n*s,h=e+20;this.ctx.strokeStyle="#cbd5e0",this.ctx.lineWidth=2,this.ctx.strokeRect(r+4,h,s-8,a),this.ctx.fillStyle="#4a5568",this.ctx.font="bold 14px Inter, sans-serif",this.ctx.textAlign="center",this.ctx.fillText(n.toString(),r+s/2,h-6);const l=t[n]||[];if(l.length===0)continue;const c=Math.min(a/l.length,35);l.forEach((u,p)=>{const f=h+a-(p+1)*c,C=r+8,R=s-16,E=this.ctx.createLinearGradient(C,f,C,f+c-4);E.addColorStop(0,"#4299e1"),E.addColorStop(1,"#3182ce"),this.ctx.shadowColor="rgba(66, 153, 225, 0.3)",this.ctx.shadowBlur=8,this.ctx.shadowOffsetX=0,this.ctx.shadowOffsetY=0,this.ctx.fillStyle=E,this.roundRect(C,f,R,c-4,3),this.ctx.shadowColor="transparent",this.ctx.shadowBlur=0,this.ctx.fillStyle="white",this.ctx.font="bold 10px Inter, sans-serif",this.ctx.textAlign="center",this.ctx.fillText(u,C+R/2,f+c/2+3)})}}drawDigitIndicator(t,e){const o=`Sorting by ${["1s","10s","100s","1000s"][t]||Math.pow(10,t)+"s"} place`;this.ctx.fillStyle="#5a67d8",this.ctx.font="bold 12px Inter, sans-serif",this.ctx.textAlign="center",this.ctx.fillText(o,this.canvas.width/2,e)}drawArray(t,e=[],i=null){if(this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),!t||t.length===0)return;const o=this.canvas.width/t.length,s=Math.max(...t);t.forEach((a,n)=>{const r=a/s*(this.canvas.height-40),h=n*o,l=this.canvas.height-r;let c,u=null;i===n?(c=this.ctx.createLinearGradient(h,l,h,this.canvas.height),c.addColorStop(0,"#48bb78"),c.addColorStop(1,"#38a169"),u="rgba(72, 187, 120, 0.5)"):e.includes(n)?(c=this.ctx.createLinearGradient(h,l,h,this.canvas.height),c.addColorStop(0,"#f6ad55"),c.addColorStop(1,"#ed8936"),u="rgba(246, 173, 85, 0.4)"):(c=this.ctx.createLinearGradient(h,l,h,this.canvas.height),c.addColorStop(0,"#667eea"),c.addColorStop(1,"#764ba2")),u?(this.ctx.shadowColor=u,this.ctx.shadowBlur=20,this.ctx.shadowOffsetX=0,this.ctx.shadowOffsetY=0):(this.ctx.shadowColor="rgba(0, 0, 0, 0.2)",this.ctx.shadowBlur=8,this.ctx.shadowOffsetY=4),this.ctx.fillStyle=c,this.roundRect(h+2,l,o-4,r,6),i===n&&(this.ctx.strokeStyle="white",this.ctx.lineWidth=3,this.roundRectStroke(h+2,l,o-4,r,6)),this.ctx.shadowColor="transparent",this.ctx.shadowBlur=0,this.ctx.shadowOffsetY=0,this.ctx.fillStyle=i===n?"#22543d":"#2d3748",this.ctx.font=i===n?"bold 14px Inter, sans-serif":"bold 12px Inter, sans-serif",this.ctx.textAlign="center",this.ctx.fillText(a,h+o/2,this.canvas.height-r-8)})}roundRect(t,e,i,o,s){this.ctx.beginPath(),this.ctx.moveTo(t+s,e),this.ctx.lineTo(t+i-s,e),this.ctx.quadraticCurveTo(t+i,e,t+i,e+s),this.ctx.lineTo(t+i,e+o),this.ctx.lineTo(t,e+o),this.ctx.lineTo(t,e+s),this.ctx.quadraticCurveTo(t,e,t+s,e),this.ctx.closePath(),this.ctx.fill()}roundRectStroke(t,e,i,o,s){this.ctx.beginPath(),this.ctx.moveTo(t+s,e),this.ctx.lineTo(t+i-s,e),this.ctx.quadraticCurveTo(t+i,e,t+i,e+s),this.ctx.lineTo(t+i,e+o),this.ctx.lineTo(t,e+o),this.ctx.lineTo(t,e+s),this.ctx.quadraticCurveTo(t,e,t+s,e),this.ctx.closePath(),this.ctx.stroke()}}function*W(d){const t=[...d];let e=0,i=0;for(let o=0;o<t.length;o++)for(let s=0;s<t.length-o-1;s++)i++,yield{array:[...t],comparing:[s,s+1],swaps:e,comparisons:i},t[s]>t[s+1]&&([t[s],t[s+1]]=[t[s+1],t[s]],e++,yield{array:[...t],comparing:[],highlight:s,swaps:e,comparisons:i});return{array:t,comparing:[],swaps:e,comparisons:i}}function*D(d){const t=[...d];let e=0,i=0;for(let o=0;o<t.length-1;o++){let s=o;for(let a=o;a<t.length;a++)i++,yield{array:[...t],comparing:[a],highlight:s,swaps:e,comparisons:i},t[a]<t[s]&&(s=a,yield{array:[...t],comparing:[a],highlight:s,swaps:e,comparisons:i});s!==o&&([t[o],t[s]]=[t[s],t[o]],e++,yield{array:[...t],comparing:[o,s],highlight:s,swaps:e,comparisons:i})}return{array:t,comparing:[],swaps:e,comparisons:i}}function*j(d){const t=[...d];let e=0,i=0;for(let o=0;o<t.length;o++){let s=t[o],a=o;yield{array:[...t],comparing:[],highlight:a,swaps:e,comparisons:i};let n=o-1;for(;n>=0&&(i++,yield{array:[...t],comparing:[n,a],highlight:a,swaps:e,comparisons:i},t[n]>s);)t[n+1]=t[n],e++,a=n,t[a]=s,yield{array:[...t],comparing:[],highlight:a,swaps:e,comparisons:i},n--;yield{array:[...t],comparing:[],highlight:a,swaps:e,comparisons:i},yield{array:[...t],comparing:[],highlight:null,swaps:e,comparisons:i}}return{array:t,comparing:[],swaps:e,comparisons:i}}function*X(d){const t=[...d];let e=0,i=0;yield*o(t,0,t.length-1);function*o(a,n,r){if(n<r){const h=yield*s(a,n,r);yield*o(a,n,h-1),yield*o(a,h+1,r)}}function*s(a,n,r){const h=a[r];let l=n-1;yield{array:[...a],comparing:[r],highlight:r,swaps:e,comparisons:i};for(let c=n;c<r;c++)i++,yield{array:[...a],comparing:[c,r],highlight:r,swaps:e,comparisons:i},a[c]<=h&&(l++,l!==c&&([a[l],a[c]]=[a[c],a[l]],e++,yield{array:[...a],comparing:[l,c],highlight:r,swaps:e,comparisons:i}));return l+1!==r&&([a[l+1],a[r]]=[a[r],a[l+1]],e++,yield{array:[...a],comparing:[l+1,r],highlight:l+1,swaps:e,comparisons:i}),l+1}return{array:t,comparing:[],swaps:e,comparisons:i}}function*N(d){const t=[...d];let e=0,i=0;const o=Math.max(...t),s=Array(o+1).fill(0);for(let n=0;n<t.length;n++)yield{array:[...t],comparing:[],highlight:n,swaps:e,comparisons:i},s[t[n]]++;let a=0;for(let n=0;n<=o;n++)for(;s[n]>0;){i++;let r=-1;for(let h=a;h<t.length;h++)if(t[h]===n){r=h;break}r!==-1&&r!==a?(yield{array:[...t],comparing:[a,r],highlight:null,swaps:e,comparisons:i},[t[a],t[r]]=[t[r],t[a]],e++,yield{array:[...t],comparing:[],highlight:a,swaps:e,comparisons:i}):r===a&&(yield{array:[...t],comparing:[],highlight:a,swaps:e,comparisons:i}),s[n]--,a++}return{array:t,comparing:[],swaps:e,comparisons:i}}function*F(d){const t=[...d];let e=0,i=0;const s=Math.max(...t).toString().length;function a(n,r){return Math.floor(Math.abs(n)/Math.pow(10,r))%10}for(let n=0;n<s;n++){const r=Array.from({length:10},()=>[]);for(let l=0;l<t.length;l++){const c=a(t[l],n);r[c].push(t[l]),yield{array:[...t],buckets:r.map(u=>[...u]),digitPos:n,highlight:l,comparing:[],swaps:e,comparisons:i},i++}yield{array:[...t],buckets:r.map(l=>[...l]),digitPos:n,highlight:null,comparing:[],swaps:e,comparisons:i};let h=0;for(let l=0;l<10;l++)for(let c=0;c<r[l].length;c++)t[h]=r[l][c],yield{array:[...t],buckets:null,digitPos:n,highlight:h,comparing:[],swaps:e,comparisons:i},h++,e++;yield{array:[...t],buckets:null,digitPos:n,highlight:null,comparing:[],swaps:e,comparisons:i}}return{array:t,buckets:null,digitPos:s-1,comparing:[],highlight:null,swaps:e,comparisons:i}}const z=document.getElementById("canvas"),v=new G(z),k=new H(z),$={bubble:W,selection:D,insertion:j,quick:X,counting:N,radix:F},A=document.getElementById("speed"),M=document.getElementById("speedValue"),L=document.getElementById("arraySize"),K=document.getElementById("arraySizeValue"),w=document.getElementById("algorithm"),y=document.getElementById("startBtn"),b=document.getElementById("randomizeBtn"),J=document.getElementById("resetBtn"),S=document.getElementById("comparisons"),I=document.getElementById("swaps"),Q=document.getElementById("sizeDisplay");let T=501-parseInt(A.value),B=parseInt(L.value),x=[],V=[],q=null,g=!1,O=null,m=null;M.textContent=T;function P(){x=Array.from({length:B},()=>Math.floor(Math.random()*100+1)),V=[...x],v.drawArray(x),S.textContent="0",I.textContent="0",Q.textContent=B}A.addEventListener("input",()=>{T=501-parseInt(A.value),M.textContent=T});L.addEventListener("input",()=>{B=parseInt(L.value),K.textContent=B,g||P()});y.addEventListener("click",()=>{if(g)return;g=!0,y.disabled=!0,b.disabled=!0,w.disabled=!0,m=w.value;const d=$[m];if(!d){console.error(`Algorithm "${m}" not found`),g=!1,y.disabled=!1,b.disabled=!1,w.disabled=!1;return}q=d(x),Y()});b.addEventListener("click",()=>{g||P()});J.addEventListener("click",()=>{O&&clearTimeout(O),g=!1,x=[...V],m==="radix"?k.drawArray(x):v.drawArray(x),S.textContent="0",I.textContent="0",y.disabled=!1,b.disabled=!1,w.disabled=!1});function Y(){const d=q.next();d.done?(m==="radix"?k.drawArray(d.value.array):v.drawArray(d.value.array),S.textContent=d.value.comparisons||0,I.textContent=d.value.swaps||0,g=!1,y.disabled=!1,b.disabled=!1,w.disabled=!1):(m==="radix"?k.drawRadixSort(d.value.array,d.value.buckets,d.value.digitPos||0,d.value.highlight,d.value.comparing||[]):v.drawArray(d.value.array,d.value.comparing||[],d.value.highlight),S.textContent=d.value.comparisons||0,I.textContent=d.value.swaps||0,O=setTimeout(Y,T))}P();
